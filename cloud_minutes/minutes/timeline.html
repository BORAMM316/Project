<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<!-- Cache reset -->		
<meta http-equiv="Expires" content="Mon, 06 Jan 2016 00:00:01 GMT">
<meta http-equiv="Expires" content="-1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<!-- icon_favicon -->
<link rel="shortcut icon" type="image/x-icon" href="resources/images/ico_favicon_60x60.png"><!-- 윈도우즈 사이트 아이콘, HiDPI/Retina 에서 Safari 나중에 읽기 사이드바 -->
<!-- css -->
<link rel="stylesheet" type="text/css" href="resources/css/reset.css" />
<link rel="stylesheet" type="text/css" href="resources/css/font.css" />
<link rel="stylesheet" type="text/css" href="resources/css/all.css" />
<link rel="stylesheet" type="text/css" href="resources/css/common.css" />
	
<title>회의내용 ll 회의록시스템</title>
</head>
<body>
<!-- .page_loading -->
<div id="page_loading">
	<div class="page_ldg">
		<span></span>
		<span></span>
		<span></span>
		<span></span>
	</div>
</div>
<!-- //.page_loading -->
	
<!-- #wrap -->
<div id="wrap">
    <!-- #skipNav -->
    <div id="skipNav">
		<a href="#gnb">주메뉴 메인메뉴</a>
		<a href="#contents">본문 바로가기</a>
	</div>
    <!-- //#skipNav -->
	<!-- #header -->
	<div id="header">
		<h1><a href="#">회의록 시스템</a></h1>
		<!-- .etc -->
		<div class="etc">
			<ul>
				<li><a href="#">로그아웃</a></li>
			</ul>
		</div>
		<!-- //.etc -->
	</div>
	<!-- //#header -->
	<form name="mainFrm" class="mainFrm" method="post" action="sel_script">
	<!-- #container -->
	<div id="container" class="div_normal">
		<div id="gnb" class="div_left">
			<ul class="nav">
				<li class="active"><a href="index.html"><span class="fas fa-calendar-alt"></span>회의 현황</a></li>
				<li><a href="result_list.html"><span class="fas fa-calendar-check"></span>회의 결과</a></li>
                <li><a href="minutes_supervision.html"><span class="fas fa-calendar-check"></span>회의록 관리</a></li>
                <li><a href="minutes_write.html"><span class="fas fa-calendar-check"></span>회의록 작성</a></li>
				<li><span class="fas fa-shield-alt"></span>관리자 설정</li>
				<li><a href="#none"><span class="fas fa-cog"></span>시스템 관리</a>
                    <ul class="sub">
                        <li><a href="systemManagement_site.html"><span class="fas fa-user"></span>사이트 관리</a></li>
                        <li><a href="systemManagement_user.html"><span class="fas fa-user-cog"></span>사용자 관리</a></li>
                        <li><a href="systemManagement_model.html"><span class="fas fa-user"></span>모델 관리</a></li>
                        <li><a href="systemManagement_minutes.html"><span class="fas fa-clipboard-list"></span>회의록 관리</a></li>
                    </ul>
                </li>
				<li><a href="monitoring.html"><span class="fas fa-laptop"></span>서버 모니터링</a></li>
				<li><a href="dictionary.html"><span class="fas fa-book"></span>치환 사전</a></li>
				<li><a href="management.html"><span class="far fa-id-card"></span>직원 관리</a></li>
			</ul>
		</div>
		
		<!-- #contents -->
		<div id="contents">
			<!-- .content -->
			<div class="content">
				<!-- .titArea -->
				<div class="titArea">
					<h3>회의록</h3>
				</div>
				<!-- //.titArea -->
				
				<!-- .section -->
				<div class="stn meetingInfo">
					<div class="meeting">
						<div class="leftBox">
							<dl>
								<dt>회의명</dt>
								<dd>주간회의 8월 3주</dd>
							</dl>
							<dl>
								<dt>장소</dt>
								<dd>1 회의실</dd>
							</dl>
							<dl>
								<dt>시간</dt>
								<dd>2019-08-23 20:54:00</dd>
							</dl>
							<dl>
								<dt>안건</dt>
								<dd>주간회의 8월 3주</dd>
							</dl>
							<dl>
								<dt>참석인</dt>
								<dd>이주일, 김경이, 고두삼, 임미사, 박이오, 최선육, 옥현칠, 이주팔</dd>
							</dl>
						</div>
						<div class="rightBox">
							<div class="stateBox">
								<p class="state">
									<!-- <span class="play">재생</span> -->
									<!-- <span class="record">녹음중</span> -->
									<span class="stop">중지</span>
								</p>
								<p class="time">00:10:12</p>
							</div>
							<div class="lst_mic">
								<ul>
									<li>
										<span>
											<em class="name">이주일</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">김경이</em>
										</span>										
									</li>
									<li>
										<span>
											<em class="name">고두삼</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">임미사</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">박이오</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">최선육</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">옥현칠</em>
										</span>
									</li>
									<li>
										<span>
											<em class="name">이주팔</em>
										</span>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- .section -->
				<div class="stn">
					<div class="timeline">
						<ul>
							<li>
								<span class="time">
									<em>21:01:34</em>
								</span>
								<span class="name num1">
									<em>마이크</em>
								</span>
								<span class="txt">
									<em>저희가 조금 다들 바쁜 직장 다니기도 하고 이쪽에 인벌벌 수 있는 시간들이 전부 다 한정 돼있다 보니어 비교적으로 팔바쁜 한가한 곳에 실패살아남고요</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>22:34:49</em>
								</span>
								<span class="name num2">
									<em>마이크</em>
								</span>
								<span class="txt">
									<em>네</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>21:28:48</em>
								</span>
								<span class="name num1">
									<em>이주일</em>
								</span>
								<span class="txt">
									<em>나머지 분들은 방송을 휴식에 들어가는 것으로 내부적으로 합의를 하셨구요</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>21:28:48</em>
								</span>
								<span class="name num2">
									<em>김경이</em>
								</span>
								<span class="txt">
									<em>네</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>21:28:48</em>
								</span>
								<span class="name num3">
									<em>고두삼</em>
								</span>
								<span class="txt">
									<em>그래서 저희가 시즌는 종료를 하고 없었</em>
									<em>그게 나누기 위해서 시즌이란 말을 썼는데 시즌이란 말을 쓰는 게 적절한 지는 모르겠어요</em>
									<em>그래서 시즌 원을 종료를 하고 시즌 2를 시작하려고 합니다</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>13:00:15</em>
								</span>
								<span class="name num4">
									<em>임미사</em>
								</span>
								<span class="txt">
									<em>언제든지 화요일 식사 대용으로 복귀하실 수 있는 그런 가능성은 높은 5키로 하고요</em>
									<em>각자이 자리에서 또 열심히 하시다 보면 꺼예요</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>13:00:15</em>
								</span>
								<span class="name num5">
									<em>박이오</em>
								</span>
								<span class="txt">
									<em>내 좀 아쉬운 마음이 앞서지만 행복하게 빠이빠이하는 걸로 하고어 이런 이야기를 하는 방송 에서도 유리 파편 님이 부재 아셨어 정말 나쁜 사람</em>
									<em>나쁘고 바쁜 사람</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>13:00:15</em>
								</span>
								<span class="name num6">
									<em>최선육</em>
								</span>
								<span class="txt">
									<em>네</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>13:00:15</em>
								</span>
								<span class="name num7">
									<em>옥현칠</em>
								</span>
								<span class="txt">
									<em>그러니까</em>
								</span>
							</li>
							<li>
								<span class="time">
									<em>13:00:15</em>
								</span>
								<span class="name num8">
									<em>이주팔</em>
								</span>
								<span class="txt">
									<em>그래서 일단 이 녹음을 마치고 저희는 이제 8월 한달간 조금 한달 읽어 시작하고 난 지가 지금 9개월 정도 되는데 9 개월 만에 좀 긴 휴가를 갈 예정이예요</em>
								</span>
							</li>
						</ul>
					</div>
				</div>
				<!-- //.section -->
				
				<!-- .section -->
				<div class="stn">
					<dl class="memo">
						<dt><h4>memo</h4></dt>
						<dd>
							<textarea class="textArea" rows="2"></textarea>
							<button type="button">저장</button>
						</dd>
					</dl>
				</div>
				<!-- //.section -->
				
			</div>
			<!-- //.content -->
		</div>
		<!-- //#contents -->
	</div>
	<!-- //#container -->
	</form>
</div>
<!-- //#wrap -->	
</body>

<script type="text/javascript" src="resources/js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="resources/js/all.js"></script>
<script type="text/javascript" src="resources/js/common.js"></script>
<script type="text/javascript">   
$(window).load(function() {    
	$('#page_loading').addClass('pageldg_hide').delay(300).queue(function() { $(this).remove(); });
}); 
</script>  
<script type="text/javascript">
var ws;

$(document).ready(function() {
    conn_ws();
});

//websocket main function
function conn_ws(){
    let cur_micId = "";
    let new_micId = "";

    // ws = new WebSocket( 'ws://127.0.0.1:34990' );
    ws = new WebSocket( 'ws://10.122.66.73:8200/callsocket' );
    ws.onmessage = function(e){
        let rcv_data = JSON.parse(e.data);
        console.log("### rcv_data:" + rcv_data.toString());
    };
    ws.onopen = function(){
        console.log("==> Socket Opened");
        let sendMsg = '{"EventType":"CONFERENCE", "Event":"subscribe"}';
        ws.send(sendMsg);
        console.log("==> Sent opening message : subscribe : sendMsg : " + sendMsg);
        // sendMsg = '{"EventType":"STT", "Event":"START", "Caller":"' + getd_cust_tel_no + '", "Agent":"' + getd_cust_op_id + '", "contractNo":"' + getd_contract_no + '", "campaignId":"' + getd_campaign_id + '"}';
        // sendMsgRestful(sendMsg);
    }
}

//회의룸 설정 pop up
function confPop(rser, mrnm){
    let popSize = "width=750,height=550";
    let popOption = "titlebar=no,toolbar=no,menubar=no,location=no,directories=no,status=no,scrollbars=no";
    pop1 = window.open("/setUpConf?site_ser=1&room_ser=" + rser, "pop1", popSize + "," + popOption);
}

//회의 상세정보
function confDetail(rser){
    location.href="detailView?room_ser=" + rser;
}

//실시간/녹음된 스크립트 보기 이동
function goScript(ser, status){
    // if( status < 2 ){
    //     alert("회의상태가 예약중인 회의입니다. 열람/편집할 회의록이 없습니다.");
    //     return false;
    // }

    location.href="sel_script?meta_ser=" + ser;
}

//조회
function goSch(){
    mainFrm.method = "POST";
    mainFrm.action = "/dashboard";
    mainFrm.submit();
}

//페이지 이동
function goPage(num){
    $('#currentPage').val(num);

    goSch();
}

// 시작 / 종료 버튼 클릭
function meetingStatus(ser, status){
    $.ajax({
        url : "meetingStatusUpdate",
        data : {meta_ser:ser, meetStatus:status},
        type : "POST"
    }).done(function(data){
        console.log("### SUCC : " + data);

        let rcv_data = JSON.parse(data);

        let sendMsg = '';
        if( status == 1 ) {
            sendMsg = '{"EventType":"COMMAND", "Event":"start", "rec_id":"' + ser + '", "mic_ip":"' + rcv_data[0] + '", "mic_port1":"' + rcv_data[1] + '", "mic_port2":"' + rcv_data[2] + '", "mic_port3":"' + rcv_data[3] + '", "mic_port4":"' + rcv_data[4] + '", "mic_port5":"' + rcv_data[5] + '", "mic_port6":"' + rcv_data[6] + '", "mic_port7":"' + rcv_data[7] + '", "mic_port8":"' + rcv_data[8] + '"}';
        }else{
            sendMsg = '{"EventType":"COMMAND", "Event":"stop", "rec_id":"' + ser + '", "mic_ip":"' + rcv_data[0] + '", "mic_port1":"' + rcv_data[1] + '", "mic_port2":"' + rcv_data[2] + '", "mic_port3":"' + rcv_data[3] + '", "mic_port4":"' + rcv_data[4] + '", "mic_port5":"' + rcv_data[5] + '", "mic_port6":"' + rcv_data[6] + '", "mic_port7":"' + rcv_data[7] + '", "mic_port8":"' + rcv_data[8] + '"}';
        }
        ws.send(sendMsg);
        console.log("### sent message : " + sendMsg);
        location.reload();
    }).fail(function(data){
        console.log("### FAIL : " + data);
        location.reload();
    });
}
</script>


</html>
