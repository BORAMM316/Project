<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- css -->
<!-- datetimepicker -->
<link rel="stylesheet" href="resources/css/bootstrap.css"/>
<link rel="stylesheet" href="resources/css/bootstrap-datetimepicker.css"/>
<!-- datatables -->
<link rel="stylesheet" href="resources/css/datatables.min.css">
<link rel="stylesheet" href="resources/css/buttons.dataTables.min.css">

<link rel="stylesheet" href="resources/css/common.css">
<link rel="stylesheet" href="resources/css/stt_tm_qa.css">

<!-- js -->
<script src="resources/js/jquery-3.3.1.min.js"></script>
<script src="resources/js/jquery-migrate-3.3.0.min.js"></script>
<!-- datetimepicker -->
<script src="resources/js/bootstrap-datetimepicker.js"></script>
<script src="resources/js/moment.min.js"></script>
<script src="resources/js/ko.js"></script>
<!-- datatables -->
<script src="resources/js/datatables.min.js"></script>
<script src="resources/js/dataTables.fixedColumns.min.js"></script>

<title>TM QA배정 || 푸본현대생명</title>
</head>
<body>
<!-- #wrap -->
<div id="wrap">
    <!-- #header -->
    <div id="header">
        <!-- .title_box -->
        <div class="title_box bg_blue">
            <h1>
                <img src="resources/images/img_logo_w.png" class="logo" alt="푸본현대생명 로고">
                <p class="title">STT TM_QA</p>
            </h1>

            <div class="etc_box">
                <!-- [D] 사용자 계정 표시 영역(.user_account span) / 임의로 '사용자계정 표시'라고 텍스트 넣어둠 -->
                <div class="user_account">
                    <span>사용자계정 표시</span>
                </div>
                <div class="btnBox btn_logout">
                    <a href="#none">
                        <img src="resources/images/ico_logout_w.png" alt="로그아웃 아이콘">
                        로그아웃
                    </a>
                </div>
            </div>
        </div>
        <!-- //.title_box -->

        <!-- .gnb -->
        <!-- [D] 현재 페이지에 해당하는 메뉴(.gnb li)에 addclass('current')주면 활성화됨 -->
        <!-- [D] 대메뉴(.gnb > li) 마우스오버 시 중메뉴(.sub) slidedown되며 보여짐 -->
        <!-- [D] 소메뉴(.third)가 존재하는 중메뉴(.snb > li)는 오른쪽에 아래방향 화살표가 추가되며, 클릭 시 소메뉴(.third) slidedown되며 보여짐 -->
        <ul class="gnb">
            <li>
                <h3>Home</h3>

                <ul class="sub">
                    <li>
                        <a href="home_dashboard.html">Dashboard</a>
                    </li>
                </ul>
            </li>
            <li>
                <h3>CS</h3>

                <ul class="sub">
                    <li>
                        <a href="cs_stt.html">STT 대상</a>
                    </li>
                </ul>
            </li>
            <li>
                <h3>TM</h3>

                <ul class="sub">
                    <li>
                        <a href="#none">STT 대상</a>
                    </li>
                </ul>
            </li>
            <li class="current">
                <h3>TM_QA</h3>

                <ul class="sub">
                    <li class="current">
                        <a href="#none">QA 배정</a>
                    </li>
                    <li>
                        <a href="#none">QA 심사리스트</a>
                    </li>
                    <li>
                        <a href="#none">QA 결과</a>
                    </li>
                </ul>
            </li>
            <li>
                <h3>통계</h3>

                <ul class="sub">
                    <li>
                        <a href="#none">상담원 통계</a>
                    </li>
                    <li>
                        <a href="#none">심사자 통계</a>
                    </li>
                </ul>
            </li>
            <li>
                <h3>모니터링</h3>

                <ul class="sub">
                    <li>
                        <a href="#none">처리 상태 모니터링</a>
                    </li>
                    <li>
                        <a href="#none">서비스 모니터링</a>
                    </li>
                </ul>
            </li>
            <li>
                <h3>관리설정</h3>

                <ul class="sub">
                    <li>
                        <a href="#none">표준 스크립트 관리</a>
                        <ul class="third">
                            <li>
                                <a href="#none">상품 스크립트 관리</a>
                            </li>
                            <li>
                                <a href="#none">점검 항목 관리</a>
                            </li>
                            <li>
                                <a href="#none">표준 스크립트 관리</a>
                            </li>
                            <li>
                                <a href="#none">금지어&sol;유의어 관리</a>
                            </li>
                            <li>
                                <a href="#none">문장 발화 조건</a>
                            </li>
                            <li>
                                <a href="#none">답변 관리</a>
                            </li>
                            <li>
                                <a href="#none">문장 관리</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#none">시뮬레이션 화면</a>
                    </li>
                    <li>
                        <a href="#none">사용자 관리</a>
                        <ul class="third">
                            <li>
                                <a href="#none">사용자 관리</a>
                            </li>
                            <li>
                                <a href="#none">권한 관리</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#none">재처리 관리</a>
                        <ul class="third">
                            <li>
                                <a href="#none">TA 재처리</a>
                            </li>
                            <li>
                                <a href="#none">STT&sol;TA 재처리</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <!-- //.gnb -->
    </div>
    <!-- //#header -->

    <!-- #container -->
    <div id="container">
        <!-- #contents -->
        <div id="contents" class="tm_qa_assign">
            <!-- .tab_title -->
            <div class="tab_title">
                <div class="tab_list_wrap">
                    <ul class="tab_list">
                        <!-- <li>음성생성<button type="button" class="btn_close">x</button></li>
                        <li>Text-to-Speech<button type="button" class="btn_close">x</button></li>
                        <li>텍스트 제거<button type="button" class="btn_close">x</button></li>
                        <li>Text Removal<button type="button" class="btn_close">x</button></li> -->
                    </ul>
                </div>

                <div class="tab_dropdown">
                    <div class="btnBox">
                        <a href="#lyr_tab_allDlt_chk" class="btn_tab_allDlt btn_lyr_open">탭 전체삭제</a>
                        <a href="#none" class="btn_open">
                            <span>탭버튼</span>
                            <em></em>
                        </a>
                    </div>
                    
                    <ul class="dropdown_list">
                        <!-- <li>음성생성<button type="button" class="btn_close">x</button></li>
                        <li>Text-to-Speech<button type="button" class="btn_close">x</button></li>
                        <li>텍스트 제거<button type="button" class="btn_close">x</button></li>
                        <li>Text Removal<button type="button" class="btn_close">x</button></li> -->
                    </ul>
                </div>
            </div>
            <!-- //.tab_title -->

            <!-- .tab_content -->
            <div class="tab_content">
                <h4>QA 배정</h4>

                <!-- .srchArea -->
                <div class="srchArea">
                    <table class="tbl_line_view" summary="청약일자, 센터, 상담원, 사번, 대상, 대상내용, TA점수(최소-최대), 증권번호, 상품명, 번들유무, 청약상태, 상품발송안내로 구성">
                        <caption class="hide">검색조건</caption>
                        <colgroup>
                            <col width="70"><col width="230"><col width="70"><col><col width="70"><col width="130">
                            <col width="120"><col width="130"><col width="70"><col><col width="70"><col>
                        </colgroup>

                        <tbody>
                            <tr>
                                <th>청약일자</th>
                                <!-- [D] 시간 초기 기본값 미정으로 비워둠 -->
                                <td>
                                    <div class="iptBox">
                                        <input type="text" id="fromDate" class="iptDateTime">
                                        <span>&hyphen;</span>
                                        <input type="text" id="toDate" class="iptDateTime">
                                    </div>
                                </td>

                                <th>센터</th>
                                <td>
                                    <div class="sltBox custom">
                                        <select class="select">
                                            <option value="" selected>전체</option>
                                            <option value="">1센터</option>
                                            <option value="">2센터</option>
                                            <option value="">3센터</option>
                                            <option value="">4센터</option>
                                            <option value="">5센터</option>
                                            <option value="">Upsell 센터</option>
                                        </select>
                                    </div>
                                </td>

                                <th>상담원</th>
                                <td>
                                    <div class="sltBox custom">
                                        <select class="select">
                                            <option value="">전체</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                            <option value="">상담유형옵션</option>
                                        </select>
                                    </div>
                                </td>

                                <!-- [D] 입력값 전체일치 시에만 조회 가능하도록 해야함 -->
                                <th>사번</th>
                                <td>
                                    <div class="iptBox">
                                        <input type="text" numberOnly>
                                    </div>
                                </td>
                                
                                <!-- [D] 입력값 전체일치 시에만 조회 가능하도록 해야함 -->
                                <th>계약자</th>
                                <td>
                                    <div class="iptBox">
                                        <input type="text">
                                    </div>
                                </td>
                                
                                <!-- [D] 입력값 전체일치 시에만 조회 가능하도록 해야함 -->
                                <th>피보험자</th>
                                <td>
                                    <div class="iptBox">
                                        <input type="text">
                                    </div>
                                </td>                                                               
                            </tr>

                            <tr>
                                <!-- [D] 입력값 한,영 입력으로 일부만 입력하여도 해당되는 상품 조회 가능하도록 해야함 -->
                                <th>상품명</th>
                                <td colspan="3">
                                    <div class="iptBox">
                                        <input type="text">
                                    </div>
                                </td> 
                                
                                <!-- [D] 입력값 전체일치 시에만 조회 가능하도록 해야함 -->
                                <th>증권번호</th>
                                <td>
                                    <div class="iptBox">
                                        <input type="text" numberOnly>
                                    </div>
                                </td>
                                
                                <th>TA점수&lpar;최소&hyphen;최대&rpar;</th>
                                <td>
                                    <div class="iptBox">
                                        <input type="text" class="ta_score" numberOnly>
                                        <span>&hyphen;</span>
                                        <input type="text" class="ta_score" numberOnly>
                                    </div>
                                </td>

                                <th>대상내용</th>
                                <td>
                                    <div class="sltBox custom">
                                        <select class="select">
                                            <option value="">전체</option>
                                            <option value="">TMR</option>
                                            <option value="">상품</option>
                                            <option value="">TA구간</option>
                                            <option value="">TA점수</option>
                                        </select>
                                    </div>
                                </td>
                                
                                <th>번들유무</th>
                                <td>
                                    <div class="sltBox custom">
                                        <select class="select">
                                            <option value="">전체</option>
                                            <option value="">Y</option>
                                            <option value="">N</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- [D] 조회 버튼(.btn_srch)클릭 시 하단 리스트 오름차순으로 기본 정렬된 상태로 조회되며, 입력된 검색조건 값들은 reset되어야함 -->
                    <div class="btnBox">
                        <a href="#none" class="btn_srch">조회</a>
                    </div>
                </div>
                <!-- //.srchArea -->

                <div class="stnArea">
                    <h2>QA 배정 대상</h2>
                    <div class="btnBox">
                        <a href="#none" class="btn_assign">배정</a>
                    </div>
                    <!-- .dataTableBox -->
                    <div class="dataTableBox">
                        <!-- [D] datatables 라이브러리 영역 -->
                        <!-- [D] 처음 페이지 들어왔을때 목록 순서는 '센터'기준으로 오름차순 정렬됨 -->
                        <!-- [D] 페이지 정보(.dataTables_info) [총 19건 0건]에서의 0건 부분은 계약자명 기준으로 중복제거된 건수로 넣어주어야 함 -->
                        <table class="dataTable qa_assign_target">
                            <thead>
                                <tr>
                                    <th>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkAll" class="tbl_chk_all tbl_chk">
                                        </div>
                                    </th>
                                    <th>NO</th>
                                    <th>청약일자</th>
                                    <th>상품명</th>
                                    <th>계약자</th>
                                    <th>피보험자</th>
                                    <th>증권번호</th>
                                    <th>청약상태</th>
                                    <th>TA점수</th>
                                    <th>대상내용</th>
                                    <th>상담원</th>
                                    <th>사번</th>
                                    <th>센터</th>
                                    <th>번들유무</th>
                                </tr>
                            </thead>
    
                            <!-- [D] 조회된 목록(tbody tr) 더블클릭 시 심사 상세페이지로 이동 -->
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험갱신형</td>
                                    <td>김민정</td>　
                                    <td>김민정</td>
                                    <td>201905002108</td>
                                    <td>신계약</td>
                                    <td>2</td>
                                    <td>TMR</td>　
                                    <td>천일우</td>　
                                    <td>99308289</td>
                                    <td>1 센터</td>
                                    <td>Y</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- //.dataTableBox -->
                </div>
                
                <div class="stnArea">
                    <h2>QA 배정 현황</h2>
                    
                    <div class="iptBox">
                        <span>배정div.</span>
                        <input type="text" id="fromDate2" class="iptDateTime">
                        <span>&hyphen;</span>
                        <input type="text" id="toDate2" class="iptDateTime">
                    </div>
                    
                    <div class="assign_status_box tbl_line_view">
                        <table summary="심사자, 근무관리, 배정으로 구성">
                            <tbody>
                                <tr>
                                    <th>심사자</th>
                                    <td>김민정</td>                                    
                                    <td>이명욱</td>                                    
                                    <td>천일우</td>                                    
                                    <td>김정인</td>                                    
                                    <td>민성일</td>
                                    <td>이명욱</td>                                    
                                    <td>천일우</td>                                    
                                    <td>김정인</td>                                    
                                    <td>이영인</td>                                    
                                    <td>김민정</td>
                                </tr>
                                <tr>
                                    <th>근무관리</th>
                                    <td>휴무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                    <td>휴무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                    <td>업무</td>
                                </tr>                                
                                <tr>
                                    <th>배정</th>
                                    <td><a href="#none">0</a></td>
                                    <td><a href="#none">2</a></td>
                                    <td><a href="#none">10</a></td>
                                    <td><a href="#none">8</a></td>
                                    <td><a href="#none">0</a></td>
                                    <td><a href="#none">2</a></td>
                                    <td><a href="#none">8</a></td>
                                    <td><a href="#none">7</a></td>
                                    <td><a href="#none">10</a></td>
                                    <td><a href="#none">5</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>            
                
                <div class="stnArea">
                    <h2>심사자별 상세 현황</h2>
                    
                    <div class="dataTableBox">
                        <table class="dataTable qa_detail_status">
                            <thead>
                                <tr>
                                    <th>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkAll" class="tbl_chk_all tbl_chk">
                                        </div>
                                    </th>
                                    <th>NO</th>
                                    <th>청약일자</th>
                                    <th>상품명</th>
                                    <th>증권번호</th>
                                    <th>계약자</th>
                                    <th>피보험자</th>
                                    <th>상담원</th>
                                    <th>TA점수</th>
                                    <th>QA상태</th>
                                    <th>QA점수</th>
                                    <th>QA결과</th>
                                    <th>콜타임</th>
                                </tr>
                            </thead>
                            
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>1</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험 갱신형</td>
                                    <td>201905002108</td>
                                    <td>김민정</td>
                                    <td>김민정</td>
                                    <td>천일우</td>
                                    <td>2</td>
                                    <td>완료</td>
                                    <td>3</td>
                                    <td>보완</td>
                                    <td>40분</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>2</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험 갱신형</td>
                                    <td>201905002108</td>
                                    <td>김민정</td>
                                    <td>김민정</td>
                                    <td>천일우</td>
                                    <td>2</td>
                                    <td>완료</td>
                                    <td>3</td>
                                    <td>보완</td>
                                    <td>40분</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>3</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험 갱신형</td>
                                    <td>201905002108</td>
                                    <td>김민정</td>
                                    <td>김민정</td>
                                    <td>천일우</td>
                                    <td>2</td>
                                    <td>완료</td>
                                    <td>3</td>
                                    <td>보완</td>
                                    <td>40분</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>4</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험 갱신형</td>
                                    <td>201905002108</td>
                                    <td>김민정</td>
                                    <td>김민정</td>
                                    <td>천일우</td>
                                    <td>2</td>
                                    <td>완료</td>
                                    <td>3</td>
                                    <td>보완</td>
                                    <td>40분</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="chk_only_box">
                                            <input type="checkbox" name="chkOne" class="tbl_chk">
                                        </div>
                                    </td>
                                    <td>5</td>
                                    <td>2020-08-01</td>
                                    <td>ZERO 암보험 갱신형</td>
                                    <td>201905002108</td>
                                    <td>김민정</td>
                                    <td>김민정</td>
                                    <td>천일우</td>
                                    <td>2</td>
                                    <td>완료</td>
                                    <td>3</td>
                                    <td>보완</td>
                                    <td>40분</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- //.tab_content -->
        </div>
        <!-- //#contents -->
    </div>
    <!-- //#container -->
</div>
<!-- //#wrap -->

<!-- layer popup -->
<!-- QA 대상 취소 -->
<div id="lyr_qaTarget_cancel" class="lyrBox">
    <div class="lyr_hd">
        <span class="title">QA 대상</span>
        <a href="#none" class="btn_lyr_close">닫기</a>
     </div>
    <div class="lyr_ct">
            <p>취소하시겠습니까?</p>
    </div>
    <div class="lyr_ft">
        <div class="btnBox">
            <a href="#none" class="btn_lyr_save">확인</a>
            <a href="#none" class="btn_lyr_close">취소</a>
        </div>
    </div>
</div>
<!-- //STT 오류수정 -->

<!-- script -->
<script type="text/javascript">
$(document).ready(function(){
    // gnb 메뉴 script
    function gnbShowSlide() {
        // 대메뉴 마우스오버 시 중메뉴 슬라이드 다운으로 보여짐
        $('.gnb > li').hover(function(){
            $(this).find('.sub').stop().slideToggle(200);
            $(this).toggleClass('active');
            $('.third').slideUp();
        });

        // 소메뉴가 존재하는 중메뉴에 화살표 추가됨
        if($('.third').length){
            $('.third').parents('li').addClass('down');
        }

        // 중메뉴 클릭 시 소메뉴 슬라이드 다운으로 보여짐
        $('.sub a').on('click', function(e){
            e.stopPropagation();
            $(this).parents('.sub').css('height', 'auto');
            $(this).next().slideToggle(200);
        });
    }
    gnbShowSlide();

    // 공통 레이어 팝업
	$('.btn_lyr_open').on('click',function(){
        var popHref = $(this).attr('href');

        // popup open
        $('body').addClass('lyr_bg_dim');
        $(popHref).css({'display': 'block'});

        // popup close
        $('.btn_lyr_save, .btn_lyr_close, .lyr_bg_dimmed').on('click',function(){
            $('body').removeClass('lyr_bg_dim');
            $('.lyrBox').css({'display': 'none'});
        });
    });

    // select 스크롤 커스텀
    function customScrollSelectBox(){
        var SelectBoxScroll = $('.sltBox.custom select');
        SelectBoxScroll.each(function (i, select){
            if (!$(this).next().hasClass('slt_scroll')) {
                $(this).after('<div class="slt_scroll wide ' + ($(this).attr('class') || '') + '" tabindex="0"><span class="current_option"></span><div class="list"><ul></ul></div></div>');
                var dropdown = $(this).next();
                var options = $(select).find('option');
                var selected = $(this).find('option:selected');
                dropdown.find('.current_option').html(selected.data('display-text') || selected.text());
                options.each(function (j, o) {
                    var display = $(o).data('display-text') || '';
                    dropdown.find('ul').append('<li class="option ' + ($(o).is(':selected') ? 'selected' : '') + '" data-value="' + $(o).val() + '" data-display-text="' + display + '">' + $(o).text() + '</li>');
                });
            }
        });

        // Open/close
        $(document).on('click', '.slt_scroll', function(e){
            if($(e.target).hasClass('dd-searchbox')){
                return;
            }
            $('.slt_scroll').not($(this)).removeClass('open');
            $(this).toggleClass('open');
            if ($(this).hasClass('open')){
                $(this).find('.option').attr('tabindex', 0);
                $(this).find('.selected').focus();
            }else{
                $(this).find('.option').removeAttr('tabindex');
                $(this).focus();
            }
        });

        // select 박스 외 영역 클릭 시 닫기
        $(document).on('click', function(e){
            if ($(e.target).closest('.slt_scroll').length === 0) {
                $('.slt_scroll').removeClass('open');
                $('.slt_scroll .option').removeAttr('tabindex');
            }
            e.stopPropagation();
        });

        // Option 클릭 시 text 가져오기
        $(document).on('click', '.slt_scroll .option', function(e){
            $(this).closest('.list').find('.selected').removeClass('selected');
            $(this).addClass('selected');
            var text = $(this).data('display-text') || $(this).text();
            $(this).closest('.slt_scroll').find('.current_option').text(text);
            $(this).closest('.slt_scroll').prev('select').val($(this).data('value')).trigger('change');
        });

        // Keyboard events
        $(document).on('keydown', '.slt_scroll', function (e) {
            var focused_option = $($(this).find('.list .option:focus')[0] || $(this).find('.list .option.selected')[0]);
            // Space or Enter
            //if (event.keyCode == 32 || event.keyCode == 13) {
            if (e.keyCode == 13) {
                if ($(this).hasClass('open')) {
                    focused_option.trigger('click');
                } else {
                    $(this).trigger('click');
                }
                return false;
                // Down
            } else if (e.keyCode == 40) {
                if (!$(this).hasClass('open')) {
                    $(this).trigger('click');
                } else {
                    focused_option.next().focus();
                }
                return false;
                // Up
            } else if (e.keyCode == 38) {
                if (!$(this).hasClass('open')) {
                    $(this).trigger('click');
                } else {
                    var focused_option = $($(this).find('.list .option:focus')[0] || $(this).find('.list .option.selected')[0]);
                    focused_option.prev().focus();
                }
                return false;
                // Esc
            } else if (e.keyCode == 27) {
                if ($(this).hasClass('open')) {
                    $(this).trigger('click');
                }
                return false;
            }
        });
    }
    customScrollSelectBox();

    // input:text[numberOnly] 숫자만 입력가능
    $('input:text[numberOnly]').keypress(function(event) {
        if(event.which < 48 || event.which > 57){
            event.preventDefault();
        }
    });

    // 초기화 버튼 클릭 시 검색조건 초기화
    $('.btn_reset').on('click', function(){
        $('.srchArea input').val('');
        $('.srchArea .slt_scroll .list .option').removeClass('selected');
        $('.srchArea .slt_scroll .list .option:first-child').addClass('selected');

        var optionSelected = $('.srchArea .slt_scroll .list .option.selected');
        optionSelected.each(function(){
            var optionText = $(this).text();
            $('.current_option').text(optionText);
        });
    });

    // datetimepicker 렌더링
    $('#fromDate, #fromDate2').datetimepicker({
        language : 'ko', // 화면에 출력될 언어를 한국어로 설정합니다.
        format: 'yyyy-mm-dd',  // 년-월-일 만 출
        minView: 'month',
        pickTime : false, // 사용자로부터 시간 선택을 허용하려면 true를 설정하거나 pickTime 옵션을 생략합니다.
        defalutDate : new Date(), // 기본값으로 오늘 날짜를 입력합니다. 기본값을 해제하려면 defaultDate 옵션을 생략합니다.
        autoclose: 1, // 날짜 선택 시 달력 자동 꺼짐
    });

    $('#toDate, #toDate2').datetimepicker({
        language : 'ko', // 화면에 출력될 언어를 한국어로 설정합니다.
        format: 'yyyy-mm-dd',  // 년-월-일 만 출
        minView: 'month',
        pickTime : false, // 사용자로부터 시간 선택을 허용하려면 true를 설정하거나 pickTime 옵션을 생략합니다.
        defalutDate : new Date(), // 기본값으로 오늘 날짜를 입력합니다. 기본값을 해제하려면 defaultDate 옵션을 생략합니다.
        autoclose: 1, // 날짜 선택 시 달력 자동 꺼짐
    });

    // datatable 렌더링
    var table = $('.dataTable').DataTable({
        dom: '<"top">t<"bottom"i>', // 옵션 위치 지정
        language: { // 테이블 목록 건수 text 한글 설정
            emptyTable: "조회된 데이터가 없습니다.", // 데이터 없을 경우 노출되는 text 설정
            infoEmpty: "&lbrack;총 _TOTAL_ 건&nbsp;&nbsp; <strong>0</strong> 건&rbrack;",
            info: "&lbrack;총 _TOTAL_ 건&nbsp;&nbsp; <strong>0</strong> 건&rbrack;",
        },
        responsive: true, // 반응형 허용
        filter: false, // 검색창 미허용
        order: [[ 12, 'asc' ]], // 초기 sort 설정
        paging: false, // 페이징 허용
        scrollY: "156px", // 세로 스크롤 허용, 사이즈
        scrollX: true, //가로 스크롤 허용
        scrollCollapse: true,
        columnDefs: [ // 컬럼별 width, 옵션 사용 지정
            {targets: [0], width: "50px", orderable: false, sortable: false},  // 체크박스
            {targets: [1], width: "50px", orderable: false},                   // NO
            {targets: [2], width: "150px"},                                    // 청약일자
            {targets: [3], width: "200px", orderable: false},                  // 상품명
            {targets: [4], width: "120px"},                                    // 계약자
            {targets: [5], width: "100px", orderable: false},                  // 피보험자
            {targets: [6], width: "100px", orderable: false},                  // 증권번호
            {targets: [7], width: "100px", orderable: false},                  // 청약상태
            {targets: [8], width: "100px"},                                    // TA점수
            {targets: [9], width: "100px"},                                    // 대상내용
            {targets: [10], width: "100px", orderable: false},                 // 상담원
            {targets: [11], width: "100px", orderable: false},                 // 사번
            {targets: [12], width: "100px"},                                   // 센터
            {targets: [13], width: "100px", orderable: false},                 // 번들유무
        ],
    });

    // 왼쪽 2열 고정
    new $.fn.dataTable.FixedColumns(table, {
        leftColumns: 2,
    });

    // 다른 열에서 sort되어도 1열 순번은 그대로 유지
    table.on('order.dt search.dt', function(){
        table.column(1, {search:'applied', order:'applied'}).nodes().each(function (cell, i){
            cell.innerHTML = i+1;
        });
    }).draw();

    // datatable height 브라우저 height 기준 maxheight 조정
    // function tableResize() {
    //     // 전체 테이블
    //     $('.DTFC_ScrollWrapper').css({
    //         height: "100%",
    //         maxHeight: ($(window).height() - 450) + 'px'
    //     });
    //     // 테이블 바디 (스크롤 포함)
    //     $('.DTFC_LeftBodyWrapper').css({
    //         maxHeight: ($(window).height() - 456 - 40) + 'px'
    //     });
    //     // 첫번째 열
    //     $('.dataTables_scrollBody').css({
    //         maxHeight: ($(window).height() - 450 - 40) + 'px'
    //     });
    // }
    // tableResize();
    // 
    // $(window).resize(function() {
    //     tableResize();
    // });
    
    // 테이블 체크박스 기능 (전체선택, 해제)
    function allCheckFunc(obj) {
        $("[name=chkOne]").prop("checked", $(obj).prop("checked"));
    }

    // 체크박스 체크시 전체선택 체크 여부
    function oneCheckFunc(obj){
        var allObj = $(".tbl_chk_all");
        var objName = $(obj).attr("name");

        if( $(obj).prop("checked") ){
            checkBoxLength = $("[name="+ objName +"]").length;
            checkedLength = $("[name="+ objName +"]:checked").length;

            if(checkBoxLength == checkedLength){
                allObj.prop("checked", true);
            }else{
                allObj.prop("checked", false);
            }
        }else{
            allObj.prop("checked", false);
        }
    }

    $(function(){
        $("[name=chkAll]").click(function(){
            allCheckFunc(this);
        });
        $("[name=chkOne]").each(function(){
            $(this).click(function(){
                oneCheckFunc($(this));
            });
        });
    });
});
</script>
</body>
</html>
