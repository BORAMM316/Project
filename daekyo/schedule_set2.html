<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, target-densityDpi=device-dpi">
    <!-- (safari) 전화번호 형태로 된 문자열을 전화로 자동호출하지 못하게 함 -->
    <meta name="format-detection" content="telephone=no">

    <!-- css -->
    <link rel="stylesheet" href="resources/css/font.css">
    <link rel="stylesheet" href="resources/css/reset.css">
    <link rel="stylesheet" type="text/css" href="resources/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="resources/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="resources/css/teacher_ver_m.css">
    <link rel="stylesheet" href="resources/css/teacher_ver_b2.css">
    <!-- js -->
    <script type="text/javascript" src="resources/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="resources/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="resources/js/bootstrap-datepicker.js"></script>

    <style>
        .bg_test {
            background: rgba(0, 128, 0, 0.2) !important;
        }
    </style>

    <title>Schedule set2</title>
</head>

<body>
    <!-- #wrap -->
    <div id="wrap">
        <!-- #header -->
        <div id="header">
            <div class="header_bar">
                <div class="fl">
                    <!-- [D] class="hide"를 붙히면 display: none이 됩니다 -->
                    <button type="button" class="btn_prev">
                        <img src="resources/images/ico_back.svg" alt="뒤로가기">
                    </button>
                </div>
                <h1 class="img_box">
                    <img src="resources/images/logo_daekyo_kids.svg" alt="대교 상상 키즈 로고">
                </h1>
                <div class="fr">
                    <button type="button" class="gnb_open">
                        <img src="resources/images/ico_menu.svg" alt="메뉴 열기">
                    </button>
                </div>
            </div>
            <div id="gnb">
                <div class="gnb_box gnb_logo">
                    <div class="img_box">
                        <img src="resources/images/logo_daekyo_kids.svg" alt="대교 상상 키즈 로고">
                    </div>
                </div>
                <div class="gnb_box gnb_card">
                    <a href="#none" class="card">
                        <img src="resources/images/ico_clock.svg" alt="방문시간표">
                        <span class="primary_text primary_text_xs">
                            방문시간표
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_schedule.svg" alt="방문관리">
                        <span class="primary_text primary_text_xs">
                            방문관리
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_calendar.svg" alt="스케줄 설정">
                        <span class="primary_text primary_text_xs">
                            스케줄 설정
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_folder.svg" alt="정산내역">
                        <span class="primary_text primary_text_xs">
                            정산내역
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_list.svg" alt="공지사항">
                        <span class="primary_text primary_text_xs">
                            공지사항
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_page.svg" alt="자주묻는 질문">
                        <span class="primary_text primary_text_xs">
                            자주묻는 질문
                        </span>
                    </a>
                </div>
                <div class="gnb_box gnb_card">
                    <a href="#none" class="card">
                        <img src="resources/images/ico_profile.svg" alt="My 프로필">
                        <span class="primary_text primary_text_xs">
                            My&nbsp;&nbsp;프로필
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_key.svg" alt="비밀번호 변경">
                        <span class="primary_text primary_text_xs">
                            비밀번호 변경
                        </span>
                    </a>
                    <a href="#none" class="card">
                        <img src="resources/images/ico_logout.svg" alt="로그아웃">
                        <span class="primary_text primary_text_xs">
                            로그아웃
                        </span>
                    </a>
                </div>
                <div class="gnb_box">
                    <a href="resources/video/sample_video.mp4" class="btn_movie">
                        <img src="resources/images/ico_play.svg" alt="영상 바로가기">
                        <span class="primary_text primary_text_xs">우동선생님, 이렇게 활동하세요!</span>
                    </a>
                </div>
            </div>
        </div>
        <!-- //#header -->

        <!-- #m_container -->
        <div id="m_container">
            <h2 class="page_title">스케줄 설정</h2>

            <!-- .set_area -->
            <div class="set_area">
                <!-- .set_btn_box -->
                <ul class="set_btn_box">
                    <li class="on"><a href="#none">방문 가능시간 설정</a></li>
                    <li><a href="#none">방문 불가능일정 설정</a></li>
                </ul>
                <!-- //.set_btn_box -->

                <!-- .set_board -->
                <div class="set_board">
                    <!-- .cont_slt_time -->
                    <div class="cont_slt_time">
                        <div class="option_group">
                            <div class="btn_option">
                                <input type="checkbox" id="scd_disable">
                                <label for="scd_disable">스케줄 비활성화</label>
                            </div>
                            <div class="btn_option">
                                <input type="checkbox" id="scd_reject">
                                <label for="scd_reject">신규 신청거부</label>
                            </div>
                        </div>

                        <!-- .lst_gruop -->
                        <div class="lst_gruop">
                            <!-- .week_lst -->
                            <ul class="week_lst">
                                <li class="on"><a href="#none">월</a></li>
                                <li><a href="#none">화</a></li>
                                <li><a href="#none">수</a></li>
                                <li><a href="#none">목</a></li>
                                <li><a href="#none">금</a></li>
                                <li><a href="#none">토</a></li>
                                <li><a href="#none">일</a></li>
                            </ul>
                            <!-- //.week_lst -->

                            <!-- .time_lst -->
                            <ol class="time_lst">
                                <li>
                                    <a href="#none">
                                        <span>
                                            08:00
                                            <small>&tilde;08:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            08:30
                                            <small>&tilde;09:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            09:00
                                            <small>&tilde;09:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            09:30
                                            <small>&tilde;10:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            10:00
                                            <small>&tilde;10:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            10:30
                                            <small>&tilde;11:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            11:00
                                            <small>&tilde;11:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            11:30
                                            <small>&tilde;12:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            12:00
                                            <small>&tilde;12:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            12:30
                                            <small>&tilde;13:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            13:00
                                            <small>&tilde;13:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            13:30
                                            <small>&tilde;14:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            14:00
                                            <small>&tilde;14:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            14:30
                                            <small>&tilde;15:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            15:00
                                            <small>&tilde;15:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            15:30
                                            <small>&tilde;16:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            16:00
                                            <small>&tilde;16:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            16:30
                                            <small>&tilde;17:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            17:00
                                            <small>&tilde;17:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            17:30
                                            <small>&tilde;18:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            18:00
                                            <small>&tilde;18:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            18:30
                                            <small>&tilde;19:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            19:00
                                            <small>&tilde;19:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            19:30
                                            <small>&tilde;20:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            20:00
                                            <small>&tilde;20:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            20:30
                                            <small>&tilde;21:00</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            21:00
                                            <small>&tilde;21:30</small>
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#none">
                                        <span>
                                            21:30
                                            <small>&tilde;22:00</small>
                                        </span>
                                    </a>
                                </li>
                            </ol>
                            <!-- //.time_lst -->
                        </div>
                        <!-- //.lst_gruop -->

                        <div class="notice">
                            <div class="notice_bg">
                                <span class="notice_text">선택한 일정을 두번누르면 취소됩니다.</span>
                            </div>
                        </div>

                        <div class="btm_box">
                            <button type="button" class="btn_save">수요일 스케줄을 저장합니다.</button>
                        </div>
                    </div>
                    <!-- //.cont_slt_time -->

                    <!-- .cont_slt_date -->
                    <div class="cont_slt_date">
                        <div class="calendar_box">
                            <div id="datepicker"></div>
                        </div>

                        <div class="notice">
                            <div class="notice_bg">
                                <span class="notice_text">선택한 날짜를 두번누르면 취소됩니다.</span>
                            </div>
                        </div>

                        <div class="btm_box">
                            <button type="button" class="btn_save">
                                <span class="month">8</span>월 방문불가 일정을 저장합니다.
                            </button>
                        </div>
                    </div>
                    <!-- //.cont_slt_date -->
                </div>
                <!-- //.set_board -->
            </div>
            <!-- //.set_area -->
        </div>
        <!-- //#m_container -->
    </div>
    <!-- //#wrap -->

    <!-- layer -->
    <!-- 스케줄 설정 비활성화 -->
    <!-- [D] .lyr_pop 에 'on' class가 추가되면 팝업 등장 -->
    <div id="srch_id" class="lyr_box lyr_pop">
      <div class="lyr_cont">
        <div class="title_box">
          <span class="title">스케줄 설정이 비활성화 됩니다.</span>
        </div>

        <div class="cont_box">
            <span  class="cont_desc">스케줄 비활성화 모드 작동시, 재활성화를 할 때까지 방문활동이 제한됩니다.</span>
        </div>
      </div>

      <div class="lyr_btm">
        <div class="dual_box">
          <div>
            <button type="button" class="btn_cancel lyr_close">확인</button>
          </div>
        </div>
      </div>
    </div>
    <!-- //스케줄 설정 비활성화 -->

    <!-- script -->
    <script type="text/javascript">
        $(document).ready(function() {
            // 공통 gnb 열기/닫기
            $('.gnb_open').on('click', function(e) {
                e.stopPropagation();
                handleGndClose();

                $('body').addClass('lyr_backdrop');
                $('#gnb').addClass('show');

                setTimeout(function() {
                    $('#gnb').addClass('on');
                }, 100);

                // gnb 닫기
                function handleGndClose() {
                    // gnb에서 클릭 시 버블링 막기
                    $('#gnb').on('click', function(e) {
                        e.stopPropagation();
                    })

                    // gnb를 제외한 body를 클릭
                    $('body').on('click', function(e) {
                        if ($(this).hasClass('lyr_backdrop')) {
                            $('#gnb').removeClass('on');
                            setTimeout(function() {
                                $('#gnb').removeClass('show');
                                $('body').removeClass('lyr_backdrop');
                            }, 200);
                        }
                    })
                }
            });

            // 공통 200723 AMR 레이어 열기/닫기
            $('.lyr_open').on('click', function(e) {
                var thisHref = $(this).attr('href');

                e.stopPropagation();
                handleLyrClose(); //레이어 닫기

                $('body').addClass('lyr_backdrop'); //body에 백그라운드 적용
                $(thisHref).css({
                    'display': 'block'
                }); //클릭한 a의 href와 동일한 레이어만 block

                setTimeout(function() {
                    $(thisHref).addClass('on') //레이어 오픈 효과 적용
                }, 100);
            })

            // 레이어 닫기
            function handleLyrClose() {
                // 레이어에서 클릭 시 버블링 막기
                $('.lyr_box').on('click', function(e) {
                    e.stopPropagation()
                })

                // 레이어 닫기버튼 클릭
                $('.lyr_close').on('click', function() {
                    $('.lyr_box').removeClass('on');

                    setTimeout(function() {
                        $('body').removeClass('lyr_backdrop');
                    }, 200);
                })

                // 레이어를 제외한 body를 클릭
                $('body').on('click', function() {
                    if ($(this).hasClass('lyr_backdrop')) {
                        $('.lyr_box').removeClass('on');

                        setTimeout(function() {
                            $('body').removeClass('lyr_backdrop');
                        }, 200);
                    }
                })
            }

            // 공통 200728 AMR input이 focus되어 있을 때 input이 아닌 영역에 touch를 하거나, 스크롤을 하면 가상키보드가 닫힘

            // document에서 일어나는 touch 이벤트
            handleInputKeyboard($('#m_container'), $(document));

            // lyer에서 일어나는 touch 이벤트
            handleInputKeyboard($('.lyr_box, .lyr_backdrop'), $('.lyr_box, .lyr_backdrop'));

            function handleInputKeyboard(touchStartEl, touchEndEl) {
                $('input').focus(function() {
                    var $this = $(this);

                    touchStartEl.on('touchstart', function(e) {
                        touchEndEl.on('touchmove touchend', function(e) {
                            touchEndEl.off('touchmove touchend');
                            $this.blur();
                        });
                    });
                });
            }
        });
    </script>

    <!-- script [boram] -->
    <script type="text/javascript">
        $(document).ready(function(){
            // 시간 선택 박스 width와 동일한 height 주기
            var timeBoxwidth = $('.time_lst li').width();
            $('.time_lst li').height(timeBoxwidth);

            // 요일 선택 시 활성화
            $('.week_lst li').on('click', function(){
                $('.week_lst li').removeClass('on');
                $(this).addClass('on');
            });

            // 시간 선택 시 활성화
            $('.time_lst li').on('click', function(){
                $(this).toggleClass('on');
            });

            // 스케줄 저장 버튼 터치 이벤트
            $('.btm_box button').on('touchstart', function(){
                $(this).addClass('on');
            });
            $('.btm_box button').on('touchend', function(){
                $(this).removeClass('on');
            });

            // 방문 불가 설정 달력 datePicker
            $('#datepicker').datepicker({

            });

            // 달력 월, 일, 버튼 넣어주기
            var calendarYear = $('.datepicker-years .year.active').text();
            var calendarMonth = $('.datepicker-months .month.active').text();
            $('.datepicker-days thead').append('<tr><th colspan="3">' + calendarMonth + calendarYear + '<th class="prev" colspan="4"></th></tr>')

            // 스케줄 설정 유형 별 탭버튼, 내용
    		var setBtn = $('.set_btn_box li');
    		var setCont = $('.set_board > div');

    		setCont.hide();
    		setCont.eq(1).show();

    		setBtn.on('click',function(){
    			var target = $(this);
    			var index = target.index();
    			setBtn.removeClass('on');
    			target.addClass('on');
    			setCont.css('display','none');
    			setCont.eq(index).css('display','block');
    		});

            // 일자 선택 박스 width와 동일한 height 주기
            var dateBoxwidth = $('.datepicker .day').width();
            $('.datepicker .day').height(dateBoxwidth);
        });

        $(window).resize(function(){
            // 시간 선택 박스 width와 동일한 height 주기
            var timeBoxwidth = $('.time_lst li').width();
            $('.time_lst li').height(timeBoxwidth);

            // 일자 선택 박스 width와 동일한 height 주기
            var dateBoxwidth = $('.datepicker .day').width();
            $('.datepicker .day').height(dateBoxwidth);
        });
    </script>
</body>

</html>
